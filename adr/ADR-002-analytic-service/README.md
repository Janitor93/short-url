# Auth Service Changes

## Context

Улучшение коммуникации с сервисом аналитики и в целом межсерисное взаимодействие. В текущей архитектуре серисы общаются напрямую друг с другом. В будущем планируется еще много новых сервисов, что приведет к сильной зависимости и путанницы взаимодействия между сервисами.

Прояснить какие агрегаты для аналитиков нужны.

## Decision

Для межсервисного взаимодействия будет использоваться шина данных - RabbitMQ. Что позволит асинхронно отправлять данные в сервис аналитики и не дожитдаться ответа. В это же время сервис аналитики будет проделывать ту работу которая ему нужна. Другие сервисы не будут ниего знать друг о друге.

Помимо аналитических данных по каждоый ссылке, что важно для пользователя, нужны еще данные важные для аналитиков. Соответственно, необходимо делать агрегаты. То, что может понадобиться:
- клики по странам
- клики по временным промежуткам
- клики по браузерам
Так же необходимо подключить dremio для более гибкой работы с данными для аналитиков.

## Consequences

**Pros:**
- уменьшается связность между сервисами
- продвинутый инструмент для аналитиков - dremio
